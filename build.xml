<?xml version="1.0" encoding="UTF-8"?>
<project name="InTEL" default="build" basedir=".">
    <description>Builds all of the sources in the InTEL project.</description>
    
    <echo>**********************************</echo>
    <echo>*** InTEL Project Master Build ***</echo>
    <echo>**********************************</echo>
    
    <available file="JavaMonkeyEngine/dist/JavaMonkeyEngine.jar" property="jme_exists"/>
    
    <target name="getJME" unless="jme_exists">
        <echo>*** Downloading JavaMonkeyEngine.zip</echo>
        <echo>*** This may take a moment...</echo>
        <get src="http://lcc.gatech.edu/~cashmore/Statics/JavaMonkeyEngine.zip" dest="./JavaMonkeyEngine.zip"/>
        <unzip src="JavaMonkeyEngine.zip" dest="."/>
        <delete file="JavaMonkeyEngine.zip"/>
        <copyfile src="JavaMonkeyEngine/dist/JavaMonkeyEngine.jar" dest="applet/JavaMonkeyEngine.jar" />
        <echo>*** Done!</echo>
    </target>
    
    <target name="build" depends="getJME">
        <echo>*** BUILDING ALL</echo>
        <echo>***</echo>
        <echo>*** Building BUI</echo>
        <subant buildpath="BUI/" target="jar"/>

        <echo>*** Building AppletLoader</echo>
        <subant buildpath="AppletLoader/" target="jar"/>
        
        <echo>*** Building Statics</echo>
        <subant buildpath="Statics/" target="jar"/>
        
        <echo>*** Building BUI</echo>
        <subant buildpath="BUI/" target="jar"/>
        
        <echo>*** Building Exercises:</echo>
        <!-- simple fbd -->
        <subant buildpath="exercises/Archer/" target="jar"/>
        <subant buildpath="exercises/SeeSaw/" target="jar"/>
        <subant buildpath="exercises/PisaProblem/" target="jar"/>
        <!-- frame -->
        <subant buildpath="exercises/Bicycle/" target="jar"/>
        <subant buildpath="exercises/Keyboard/" target="jar"/>
        <subant buildpath="exercises/PurseProblem/" target="jar"/>
        <!-- distributed -->
        <subant buildpath="exercises/Awning/" target="jar"/>
        <subant buildpath="exercises/Bookshelf/" target="jar"/>
        <subant buildpath="exercises/Levee/" target="jar"/>
        <!-- truss -->
        <subant buildpath="exercises/SimpleTruss/" target="jar"/>
        <subant buildpath="exercises/Bridge/" target="jar"/>
        
    </target>
    <target name="clean">
        <echo>*** Cleaning ALL</echo>
        <echo>***</echo>
        <echo>*** Cleaning BUI</echo>
        <subant buildpath="BUI/" target="clean"/>
        
        <echo>*** Cleaning Statics</echo>
        <subant buildpath="Statics/" target="clean"/>
        
        <echo>*** Cleaning exercises</echo>
        <!-- simple fbd -->
        <subant buildpath="exercises/Archer/" target="clean"/>
        <subant buildpath="exercises/SeeSaw/" target="clean"/>
        <subant buildpath="exercises/PisaProblem/" target="clean"/>
        <!-- frame -->
        <subant buildpath="exercises/Bicycle/" target="clean"/>
        <subant buildpath="exercises/Keyboard/" target="clean"/>
        <subant buildpath="exercises/PurseProblem/" target="clean"/>
        <!-- distributed -->
        <subant buildpath="exercises/Awning/" target="clean"/>
        <subant buildpath="exercises/Bookshelf/" target="clean"/>
        <subant buildpath="exercises/Levee/" target="clean"/>
        <!-- truss -->
        <subant buildpath="exercises/SimpleTruss/" target="clean"/>
        <subant buildpath="exercises/Bridge/" target="clean"/>
    </target>
</project>
